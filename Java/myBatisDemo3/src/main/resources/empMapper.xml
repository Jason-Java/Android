<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jason.mapper.IEMPMapper">




    <resultMap id="empResultMap" type="com.jason.dao.EMP" autoMapping="false">
          <id column="EMPNO" property="id"/>
        <result column="ENAME" property="name"/>
        <result column="JOB" property="job"/>
        <result column="MGR" property="mgr"/>
        <result column="HIREDATE" property="hiredate"/>
        <result column="SAL" property="sal"/>
        <result column="COMM" property="comm"/>
        <result column="DEPTNO" property="deptId"/>
    </resultMap>

    <select id="selectAll" resultType="emP">
        select EMPNO,
               ENAME,
               JOB,
               MGR,
               HIREDATE,
               SAL,
               COMM,
               DEPTNO
        from EMP;
    </select>




    <resultMap id="EmpAndDeptResultMap" type="com.jason.dao.IEmpAndDeptResult" extends="empResultMap">
        <association  property="dept" resultMap="com.jason.mapper.IDeptMapper.deptMapper"/>
    </resultMap>

    <select id="selectEmpAndDept" resultMap="EmpAndDeptResultMap">

        select e.EMPNO,
               e.Ename,
               e.JOB,
               e.MGR,
               e.HIREDATE,
               e.SAL,
               e.COMM,
               e.DEPTNO,
               d.DNAME
        from EMP as e
                 left join DEPT as d on e.DEPTNO = d.DEPTNO;
    </select>


</mapper>

